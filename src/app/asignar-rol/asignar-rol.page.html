<ion-header>
  <ion-toolbar>
    <ion-title>Asignar Rol</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Seleccionar Usuario</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-select placeholder="Seleccionar Usuario" [(ngModel)]="usuarioSeleccionado">
        <ion-select-option *ngFor="let usuario of usuarios" [value]="usuario">
          {{ usuario.nombres }} {{ usuario.apellidos }}
        </ion-select-option>
      </ion-select>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Seleccionar Rol</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-select placeholder="Seleccionar Rol" [(ngModel)]="autorizacionSeleccionada">
        <ion-select-option *ngFor="let autorizacion of autorizaciones" [value]="autorizacion">
          {{ autorizacion.nombre_autorizacion }}
        </ion-select-option>
      </ion-select>
    </ion-card-content>
  </ion-card>

  <ion-button expand="full" color="primary" (click)="asignarRol()">Asignar Rol</ion-button>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Asignaciones Actuales</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item *ngFor="let asignacion of usuarioAutorizaciones">
          <ion-label>
            <h2>Usuario: {{ asignacion.nombreUsuario }}</h2>
            <p>Rol ID: {{ asignacion.autorizacion_id }}</p>
          </ion-label>
          <ion-buttons slot="end">
            <ion-button color="warning" (click)="modificarAsignacion(asignacion)">Modificar</ion-button>
            <ion-button color="danger" (click)="eliminarAsignacion(asignacion)">Eliminar</ion-button>
          </ion-buttons>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-button expand="full" (click)="back()">Volver Atr√°s</ion-button>
  </ion-toolbar>
</ion-footer>